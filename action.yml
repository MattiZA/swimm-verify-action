name: Swimm Verify
author: Swimm
runs:
  using: composite
  steps:
    - name: git configure
      shell: bash
      run: git config user.name temp && git config user.email temp@swimm.io
    - name: download Swimm
      shell: bash
      run: curl -s https://api.github.com/repos/swimmio/SwimmReleases/releases/latest | grep 'browser_download_url.*swimm-cli' | cut -d '"' -f 4 | wget -O swimm_cli -qi -
    - name: Chmod swimm
      shell: bash
      run: chmod +x swimm_cli
    - name: swimm version
      shell: bash
      run: node swimm_cli --version
    - name: verify
      shell: bash
      run: node swimm_cli verify
